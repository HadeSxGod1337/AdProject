# Тестовое задание

### Сервис по размещению объявлений.

#### Стек технологий:
1. Сервис должен быть написан на ЯП python.
2. Реализация должна быть с помощью асинхронного фреймворка FastAPI.
3. В качестве СУБД использовать PostgreSQL, а в качестве инструмента общения с базой ORM SQLAlchemy.
# Описание:
### Сервис по размещению объявлений. 
1. Объявления могут быть разных видов (продажа, покупка, оказание услуг).
2. Основные роли системы: пользователь, администратор.

#### Возможности пользователя:
1. Регистрация ✅
2. Вход в систему ✅
3. Размещение объявления ✅
4. Просмотр списка объявлений ✅
5. Детальный просмотр одного объявления ✅
6. Удаление своего объявления ✅

#### Возможности администратора:
1. Все выше перечисленное ✅
2. Удаление комментариев в любой группе объявлений
3. Назначение пользователя администратором

#### Дополнительный функционал:

1. Серверная пагинация
2. Фильтрация объявлений
3. Сортировка записей
4. Авторизация с помощью JWT-токена ✅
5. Жалоба на объявление
6. Отзыв на размещенное объявление
7. Просмотр администратором жалоб на объявления
8. Бан/разбан пользователя администратором
9. Перемещение объявлений из одной группы в другую
10. Сборка проекта в докер-образ
11. Настройка логгера(терминал)
12. При критических ошибках отправление ошибки в телеграмм чат

### Инструкция по запуску:

После скачивания проекта в командой строке или терминале перейти в корневую папку проекта, например,в моем случае:

cd C:\Users\Admin\PycharmProjects\AdProject

Далее нужно запустить виртуальное окружение командой: 

.\venv\Scripts\activate

Далее установить необходимые библиотеки:

pip install -r requirements.txt

Выполните эту команду, чтобы запустить сервер Postgres:

docker-compose up -d

Далее  необходимо установить модульный плагин UUID OSSP для использования его в качестве значения по умолчанию для столбца ID

docker exec -it postgres bash

Войдите в запущенную базу данных Postgres с помощью этой команды psql -U <database username> <database name>:

psql -U admin fastapi

admin – это имя пользователя базы данных, указанное в .env файле.
fastapi – это имя базы данных, указанное в .env файле.
Если ничего не менять, то команда будет выглядеть так:

psql -U postgres fastapi

Далее установите uuid-ossp модуль с помощью этой команды:

CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

После запуска сервера Postgres нужно сделать миграцию:

alembic revision --autogenerate -m "create dbs"

После чего применить её к базе данных:

alembic upgrade head

После чего можно запустить сервер:

uvicorn main:app --host localhost --port 8000 --reload

Проверить работоспособность можно через Postman, добавить админа можно через PgAdmin.